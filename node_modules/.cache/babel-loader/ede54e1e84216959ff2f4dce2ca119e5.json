{"ast":null,"code":"import { QUESTION_LIST_REQUEST, QUESTION_LIST_SUCCESS, QUESTION_LIST_FAIL, QUESTION_DETAILS_REQUEST, QUESTION_DETAILS_SUCCESS, QUESTION_DETAILS_FAIL, QUESTION_SAVE_REQUEST, QUESTION_SAVE_SUCCESS, QUESTION_SAVE_FAIL, QUESTION_DELETE_SUCCESS, QUESTION_DELETE_FAIL, QUESTION_DELETE_REQUEST, QUESTION_REVIEW_SAVE_REQUEST, QUESTION_REVIEW_SAVE_FAIL, QUESTION_REVIEW_SAVE_SUCCESS } from '../constants/questionConstants';\nimport axios from 'axios';\nimport Axios from 'axios';\nconst base_url = 'https://questionbytebackend.herokuapp.com/api/users/';\n\nconst listQuestions = filter => async dispatch => {\n  try {\n    dispatch({\n      type: QUESTION_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(base_url + 'allquestions/?filter=' + filter);\n\n    if (data.status === 'success') {\n      dispatch({\n        type: QUESTION_LIST_SUCCESS,\n        payload: data.data\n      });\n    } else {\n      dispatch({\n        type: QUESTION_LIST_FAIL,\n        payload: data.message\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: QUESTION_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst saveQuestion = (askedUserId, askedUserName, askedUserGender, title, description, tags) => async dispatch => {\n  dispatch({\n    type: QUESTION_SAVE_REQUEST,\n    payload: {\n      askedUserId,\n      askedUserName,\n      askedUserGender,\n      title,\n      description,\n      tags\n    }\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.post(base_url + 'askquestion', {\n      askedUserId,\n      askedUserName,\n      title,\n      description,\n      tags\n    });\n\n    if (data.status === 'success') {\n      dispatch({\n        type: QUESTION_SAVE_SUCCESS,\n        payload: data.data\n      });\n    } else {\n      dispatch({\n        type: QUESTION_SAVE_FAIL,\n        payload: data.message\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: QUESTION_SAVE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst saveAnswer = (questionId, userId, userName, answer) => async dispatch => {\n  dispatch({\n    type: QUESTION_SAVE_REQUEST,\n    payload: {\n      questionId,\n      userId,\n      userName,\n      answer\n    }\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.post(base_url + 'answertoquestion', {\n      questionId,\n      userId,\n      userName,\n      answer\n    });\n\n    if (data.status === 'success') {\n      dispatch({\n        type: QUESTION_SAVE_SUCCESS,\n        payload: data.data\n      });\n    } else {\n      dispatch({\n        type: QUESTION_SAVE_FAIL,\n        payload: data.message\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: QUESTION_SAVE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst answersToQuestion = id => async dispatch => {\n  try {\n    dispatch({\n      type: QUESTION_DETAILS_REQUEST,\n      payload: id\n    });\n    const {\n      data\n    } = await axios.get(base_url + 'answersofquestion/?id=' + id);\n\n    if (data.status === 'success') {\n      dispatch({\n        type: QUESTION_DETAILS_SUCCESS,\n        payload: data.data\n      });\n    } else {\n      dispatch({\n        type: QUESTION_DETAILS_FAIL,\n        payload: data.message\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: QUESTION_DETAILS_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst deleteProdcut = productId => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n    dispatch({\n      type: QUESTION_DELETE_REQUEST,\n      payload: productId\n    });\n    const {\n      data\n    } = await axios.delete('/api/products/' + productId, {\n      headers: {\n        Authorization: 'Bearer ' + userInfo.token\n      }\n    });\n    dispatch({\n      type: QUESTION_DELETE_SUCCESS,\n      payload: data,\n      success: true\n    });\n  } catch (error) {\n    dispatch({\n      type: QUESTION_DELETE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst saveQuestionReview = (id, userId, vote) => async dispatch => {\n  try {\n    dispatch({\n      type: QUESTION_REVIEW_SAVE_REQUEST,\n      payload: {\n        id,\n        userId,\n        vote\n      }\n    });\n    const {\n      data\n    } = await axios.post(base_url + 'updownvotequestion', {\n      id,\n      userId,\n      vote\n    });\n\n    if (data.status === 'success') {\n      dispatch({\n        type: QUESTION_REVIEW_SAVE_SUCCESS,\n        payload: data.data\n      });\n    } else {\n      dispatch({\n        type: QUESTION_REVIEW_SAVE_FAIL,\n        payload: data.message\n      });\n    }\n  } catch (error) {\n    // report error\n    dispatch({\n      type: QUESTION_REVIEW_SAVE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nexport { listQuestions, saveQuestion, saveAnswer, answersToQuestion, deleteProdcut, saveQuestionReview };","map":{"version":3,"sources":["/home/radhetians/Desktop/frontend/src/actions/questionActions.js"],"names":["QUESTION_LIST_REQUEST","QUESTION_LIST_SUCCESS","QUESTION_LIST_FAIL","QUESTION_DETAILS_REQUEST","QUESTION_DETAILS_SUCCESS","QUESTION_DETAILS_FAIL","QUESTION_SAVE_REQUEST","QUESTION_SAVE_SUCCESS","QUESTION_SAVE_FAIL","QUESTION_DELETE_SUCCESS","QUESTION_DELETE_FAIL","QUESTION_DELETE_REQUEST","QUESTION_REVIEW_SAVE_REQUEST","QUESTION_REVIEW_SAVE_FAIL","QUESTION_REVIEW_SAVE_SUCCESS","axios","Axios","base_url","listQuestions","filter","dispatch","type","data","get","status","payload","message","error","saveQuestion","askedUserId","askedUserName","askedUserGender","title","description","tags","post","saveAnswer","questionId","userId","userName","answer","answersToQuestion","id","deleteProdcut","productId","getState","userSignin","userInfo","delete","headers","Authorization","token","success","saveQuestionReview","vote"],"mappings":"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","sourcesContent":["import {\n    QUESTION_LIST_REQUEST,\n    QUESTION_LIST_SUCCESS,\n    QUESTION_LIST_FAIL,\n    QUESTION_DETAILS_REQUEST,\n    QUESTION_DETAILS_SUCCESS,\n    QUESTION_DETAILS_FAIL,\n    QUESTION_SAVE_REQUEST,\n    QUESTION_SAVE_SUCCESS,\n    QUESTION_SAVE_FAIL,\n    QUESTION_DELETE_SUCCESS,\n    QUESTION_DELETE_FAIL,\n    QUESTION_DELETE_REQUEST,\n    QUESTION_REVIEW_SAVE_REQUEST,\n    QUESTION_REVIEW_SAVE_FAIL,\n    QUESTION_REVIEW_SAVE_SUCCESS,\n  } from '../constants/questionConstants';\n  import axios from 'axios';\n  import Axios from 'axios';\n  \n  const base_url = 'https://questionbytebackend.herokuapp.com/api/users/';\n\n  const listQuestions = (filter) => async (dispatch) => {\n    try {\n      dispatch({ type: QUESTION_LIST_REQUEST });\n      const { data } = await axios.get(base_url + 'allquestions/?filter=' + filter);\n      if(data.status==='success'){\n        dispatch({ type: QUESTION_LIST_SUCCESS, payload: data.data });\n      } else {\n        dispatch({ type: QUESTION_LIST_FAIL, payload: data.message });\n      }\n      \n    } catch (error) {\n      dispatch({ type: QUESTION_LIST_FAIL, payload: error.message });\n    }\n  };\n\n  const saveQuestion = (askedUserId, askedUserName, askedUserGender, title, description, tags) => async (dispatch) => {\n    dispatch({ type: QUESTION_SAVE_REQUEST, payload: {askedUserId, askedUserName, askedUserGender, title, description, tags} });\n    try {\n      const { data } = await Axios.post( base_url + 'askquestion', {askedUserId, askedUserName, title, description, tags});\n      if(data.status==='success'){\n        dispatch({ type: QUESTION_SAVE_SUCCESS, payload: data.data });\n      }else {\n        dispatch({ type: QUESTION_SAVE_FAIL, payload: data.message });\n      }\n      \n    } catch (error) {\n      dispatch({ type: QUESTION_SAVE_FAIL, payload: error.message });\n    }\n  };\n  \n  const saveAnswer = (questionId, userId, userName, answer) => async (dispatch) => {\n    dispatch({ type: QUESTION_SAVE_REQUEST, payload: {questionId, userId, userName, answer} });\n    try {\n      const { data } = await Axios.post( base_url + 'answertoquestion', {questionId, userId, userName, answer});\n      if(data.status==='success'){\n        dispatch({ type: QUESTION_SAVE_SUCCESS, payload: data.data });\n      }else {\n        dispatch({ type: QUESTION_SAVE_FAIL, payload: data.message });\n      }\n      \n    } catch (error) {\n      dispatch({ type: QUESTION_SAVE_FAIL, payload: error.message });\n    }\n  };\n  \n  const answersToQuestion = (id) => async (dispatch) => {\n    try {\n      dispatch({ type: QUESTION_DETAILS_REQUEST, payload: id });\n      const { data } = await axios.get( base_url + 'answersofquestion/?id=' + id);\n      if(data.status==='success'){\n        dispatch({ type: QUESTION_DETAILS_SUCCESS, payload: data.data });\n      } else {\n        dispatch({ type: QUESTION_DETAILS_FAIL, payload: data.message });\n      }\n    } catch (error) {\n      dispatch({ type: QUESTION_DETAILS_FAIL, payload: error.message });\n    }\n  };\n  \n  const deleteProdcut = (productId) => async (dispatch, getState) => {\n    try {\n      const {\n        userSignin: { userInfo },\n      } = getState();\n      dispatch({ type: QUESTION_DELETE_REQUEST, payload: productId });\n      const { data } = await axios.delete('/api/products/' + productId, {\n        headers: {\n          Authorization: 'Bearer ' + userInfo.token,\n        },\n      });\n      dispatch({ type: QUESTION_DELETE_SUCCESS, payload: data, success: true });\n    } catch (error) {\n      dispatch({ type: QUESTION_DELETE_FAIL, payload: error.message });\n    }\n  };\n  \n  const saveQuestionReview = (id, userId, vote) => async (dispatch) => {\n    try {\n      dispatch({ type: QUESTION_REVIEW_SAVE_REQUEST, payload: {id, userId, vote} });\n      const { data } = await axios.post(base_url + 'updownvotequestion', {id, userId, vote});\n      if(data.status==='success'){\n        dispatch({ type: QUESTION_REVIEW_SAVE_SUCCESS, payload: data.data });\n      } else {\n        dispatch({ type: QUESTION_REVIEW_SAVE_FAIL, payload: data.message });\n      }\n    } catch (error) {\n      // report error\n      dispatch({ type: QUESTION_REVIEW_SAVE_FAIL, payload: error.message });\n    }\n  };\n  \n  export {\n    listQuestions,\n    saveQuestion,\n    saveAnswer,\n    answersToQuestion,\n    deleteProdcut,\n    saveQuestionReview\n  };\n"]},"metadata":{},"sourceType":"module"}